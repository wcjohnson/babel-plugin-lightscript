import t from './types'

import {
  placeAtLoc as atLoc,
  getSurroundingLoc
} from 'ast-loc-utils'

export transformPipeOperator(path) ->
  { node: { left, right, reversed } } = path
  loc = getSurroundingLoc([left, right])
  if not reversed:
    path.replaceWith(t.callExpression(right, [left])~atLoc(loc))
  else:
    path.replaceWith(t.callExpression(left, [right])~atLoc(loc))
