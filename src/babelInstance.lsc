// API for accessing a Babel instance that comes from dependency injection
let babelInstance = null

import patch from './util/babelTypesPatch'
import { registerLightscriptNodeTypes } from './lscNodeTypes'
import types from './lightscriptTypes'

export setBabel(babel) ->
  t = babel.types
  patch(t)
  registerLightscriptNodeTypes(t)
  now babelInstance = babel

export getBabel() -> babelInstance

export getTypes() -> types
